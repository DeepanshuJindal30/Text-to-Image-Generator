const handleSave = async () => {
  try {
    const payload = {
      id: aml.id, // required for edit
      planNumber: aml.planNumber,
      status: aml.status,
      complianceDate: new Date(aml.complianceDate).toISOString(), // format fix
      comments: aml.comments
    };

    if (isEditMode) {
      await axios.put(`http://localhost:5041/api/AML/${aml.id}`, payload);
    } else {
      await axios.post("http://localhost:5041/api/AML", payload);
    }

    alert('AML saved successfully!');
    fetchData(); // refresh table
    setIsDialogOpen(false); // close modal
  } catch (error) {
    console.error('Save failed:', error);
    alert('Error saving AML: ' + (error.response?.data || error.message));
  }
};